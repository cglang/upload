System.register(["./index-legacy-c88ad1d1.js","./FileSaver.min-legacy-c8ad37b8.js","./moment-legacy-75f93fa4.js"],(function(t,e){"use strict";var n,o,a,i,s,r,c,d,l,u,h,m,p,f,b,g,x,y,v=document.createElement("style");return v.textContent=".form-check[data-v-acb4dcd1]{padding:.25rem .5rem;font-size:.875rem}@media screen and (max-width: 768px){.paste-title[data-v-acb4dcd1]{display:none}.form-check[data-v-acb4dcd1]{display:none!important}}pre[data-v-acb4dcd1],code[data-v-acb4dcd1],highlightjs[data-v-acb4dcd1],.hljs[data-v-acb4dcd1]{white-space:pre-wrap!important;word-wrap:break-word!important}\n",document.head.appendChild(v),{setters:[function(t){n=t._,o=t.k,a=t.a,i=t.l,s=t.c,r=t.b,c=t.f,d=t.t,l=t.d,u=t.w,h=t.h,m=t.m,p=t.v,f=t.q,b=t.o,g=t.p,x=t.i},null,function(t){y=t.h}],execute:function(){var e={components:{highlightjs:o.component},data:function(){return{title:"",text:"",checked:!1}},methods:{getFromNow:function(t){return y(t).fromNow()},get:function(t){var e=this;this.title="",this.text="",this.$root.loading=!0,a.post("/paste/get",i.stringify({id:t})).then((function(t){t.success?(e.expiredDate=t.detail.expiredDate,e.title=t.detail.title,e.text=t.detail.text):e.$router.push("/pastes")})).catch((function(t){e.$root.showModal("错误",t.message),e.$router.push("/pastes")})).finally((function(){e.$root.loading=!1}))},update:function(){var t=this;0!==this.text.trim().length?this.$root.hasToken((function(){return t.update()}))&&(this.$root.loading=!0,a.post("/paste/update",{id:this.$route.params.id,text:this.text}).then((function(e){e.success?t.$root.showModal("成功","修改成功"):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))):this.$root.showModal("提示","正文不能为空")},remove:function(){var t=this;this.$root.hasToken((function(){return t.remove()}))&&(this.$root.loading=!0,a.post("/paste/delete",i.stringify({id:this.$route.params.id})).then((function(e){e.success?(t.$root.showModal("成功","删除成功"),t.$router.push("/pastes")):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1})))},download:function(){var t=new Blob([this.text],{type:"text/plain;charset=utf-8"});saveAs(t,this.$route.params.id+".txt")}},created:function(){this.$route.params.id&&(this.get(this.$route.params.id),"true"==this.$route.query.highlight&&(this.checked=!0))}},v={class:"card"},k={class:"card-body border-bottom",style:{padding:"0.781rem 1rem"}},w={class:"d-flex justify-content-between flex-wrap align-items-center"},$={class:"paste-title text-muted text-truncate mw-50"},j={key:0,class:"text-danger",style:{"font-size":"0.875rem"}},C={key:0},M={key:1},D={class:"form-check form-switch d-inline-block align-middle me-2"},F=function(t){return g("data-v-acb4dcd1"),t=t(),x(),t}((function(){return r("label",{class:"form-check-label",for:"highlight",style:{"user-select":"none"}},"代码高亮",-1)})),N=["data-clipboard-text"],_=["disabled"];t("default",n(e,[["render",function(t,e,n,o,a,i){var g=f("highlightjs");return b(),s("div",v,[r("div",k,[r("div",w,[r("a",{class:"link-primary",onClick:e[0]||(e[0]=function(e){return t.$router.push("/pastes")})},"返回"),r("div",$,[c(d(a.title)+" ",1),t.expiredDate?(b(),s("span",j,[c("  "),-1==t.expiredDate?(b(),s("span",C,"阅后即焚")):(b(),s("span",M,"Expired "+d(i.getFromNow(t.expiredDate)),1))])):l("",!0)]),r("div",null,[r("form",D,[u(r("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"highlight","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.checked=t})},null,512),[[h,a.checked]]),F]),r("a",{class:"btn btn-outline-primary btn-sm",id:"btnCopy","data-clipboard-text":a.text},"复制",8,N),r("a",{class:"btn btn-outline-primary btn-sm ms-1",onClick:e[2]||(e[2]=function(t){return i.download()})},"下载"),r("button",{disabled:a.checked,class:"btn btn-outline-primary btn-sm ms-1",onClick:e[3]||(e[3]=function(t){return i.update()})}," 提交修改 ",8,_),r("a",{class:"btn btn-outline-danger btn-sm ms-1",onClick:e[4]||(e[4]=function(e){return t.$root.showConfirm((function(){return i.remove()}))})},"删除")])])]),a.checked?(b(),m(g,{key:0,autodetect:"",code:a.text,class:"mb-0 min-vh-75"},null,8,["code"])):u((b(),s("textarea",{key:1,id:"textarea",class:"form-control border-0 min-vh-75","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.text=t})},null,512)),[[p,a.text]])])}],["__scopeId","data-v-acb4dcd1"]]))}}}));
