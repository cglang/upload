!function(){function t(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,n,r,l,s=[],a=!0,c=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;a=!1}else for(;!(a=(o=r.call(i)).done)&&(s.push(o.value),s.length!==e);a=!0);}catch(d){c=!0,n=d}finally{try{if(!a&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(c)throw n}}return s}}(t,i)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,i)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}System.register(["./index-legacy-95d09460.js","./FileSaver.min-legacy-7535d989.js"],(function(e,i){"use strict";var o,n,r,l,s,a,c,d,u,f,h,m,p,y,k,g,b,v,w,$=document.createElement("style");return $.textContent=".sort-by-filename[data-v-a56dc13a],.sort-by-time[data-v-a56dc13a]{display:none}.filename:hover .sort-by-filename[data-v-a56dc13a],.lastModified:hover .sort-by-time[data-v-a56dc13a]{display:inline}.btn-group>.btn-group[data-v-a56dc13a]:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn[data-v-a56dc13a]{margin-left:-.9px!important}.table>tbody>tr>td[data-v-a56dc13a]{vertical-align:middle}.files-left[data-v-a56dc13a]{float:left}.files-right[data-v-a56dc13a]{float:right}.checkbox[data-v-a56dc13a]{width:2%}.filename[data-v-a56dc13a]{max-width:200px}@media screen and (max-width: 768px){.size[data-v-a56dc13a],.contentType[data-v-a56dc13a],.lastModified[data-v-a56dc13a]{display:none}.action[data-v-a56dc13a]{width:80px}}@media screen and (max-width: 1000px){.files-left[data-v-a56dc13a],.files-right[data-v-a56dc13a]{float:none}.files-left .btn[data-v-a56dc13a]{margin-bottom:5px}.dropdown[data-v-a56dc13a]{display:none}}\n",document.head.appendChild($),{setters:[function(t){o=t._,n=t.a,r=t.l,l=t.c,s=t.b,a=t.F,c=t.r,d=t.d,u=t.w,f=t.v,h=t.e,m=t.f,p=t.o,y=t.n,k=t.t,g=t.g,b=t.h,v=t.p,w=t.i},null],execute:function(){var i,$=n.CancelToken,C={data:function(){return{currentDirectory:"/",directories:[],files:[],filter:"",multiSelect:!1,checkedFiles:[],cutFiles:[],columns:["size","lastModified"],sort:{key:"name",direction:"asc"}}},methods:{sortBy:function(t){t!==this.sort.key?(this.sort.key=t,this.sort.direction="asc"):"asc"===this.sort.direction?this.sort.direction="desc":this.sort.direction="asc"},list:function(){var t=this;this.$root.loading=!0,this.files=[],this.checkedFiles=[],void 0!==i&&i(),n.post("file/list",r.stringify({currentDirectory:this.currentDirectory}),{cancelToken:new $((function(t){i=t}))}).then((function(e){if(e.success)t.files=e.detail,t.doSort(t.sort);else{if("没有权限"===e.msg&&!t.$root.hasToken((function(){return t.list()})))return;t.$root.showModal("失败",e.msg)}})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))},search:function(){var t=this;0!==this.filter.trim().length?(this.$root.loading=!0,this.files=[],this.checkedFiles=[],void 0!==i&&i(),n.post("file/search",r.stringify({filter:this.filter,currentDirectory:this.currentDirectory}),{cancelToken:new $((function(t){i=t}))}).then((function(e){e.success?(t.files=e.detail,t.doSort(t.sort)):t.$root.showModal("失败",e.msg)})).catch((function(e){"CanceledError"!==e.name&&t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))):this.list()},changeDirectory:function(t){this.currentDirectory=t,this.list(),this.getDirectoryHierachy()},getDirectoryHierachy:function(){this.directories=[];for(var t=this.currentDirectory.split("/"),e=[],i=0;i<t.length;i++){e.push(t[i]);var o=e.join("/");this.directories.push({displayName:t[i],relativePath:0===o.length?"/":o})}this.directories[0].displayName="Home"},getParentDirectory:function(t){var e=t.split("/");e.pop();var i=e.join("/");return 0===i.length?"/":i},upload:function(t){var e=this;if(this.$root.hasToken((function(){return e.upload(t)}))){this.$root.message.title="上传进度";var i=new Modal(this.$root.$refs.progressModal);i.show();var o=new FormData;o.append("currentDirectory",this.currentDirectory),Array.from(t.target.files).forEach((function(t){console.log(t),o.append("files",t)}));var r=(new Date).getTime(),l=0;n({method:"post",url:"file/upload",data:o,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){var i=t.loaded,o=t.total;e.$root.progress=Math.round(i/o*100)+"%";var n=(new Date).getTime(),s=(n-r)/1e3,a=s?(i-l)/s:0;l=i,r=n,e.$root.speed=e.$root.formatBytes(a)+"/s"}}).then((function(t){t.success?(i.hide(),e.list(),e.$root.showModal("成功","上传成功"),e.$root.progress=0):(i.hide(),e.$root.showModal("失败",t.msg),e.$root.progress=0)})).catch((function(t){i.hide(),e.$root.showModal("错误",t.message),e.$root.progress=0}))}},createDirectory:function(){var t=this,e=this.$root.$refs.input.value;0!==e.trim().length?this.$root.hasToken((function(){return t.createDirectory()}))&&(this.$root.loading=!0,n.post("file/mkdir",r.stringify({relativePath:this.currentDirectory+"/"+e})).then((function(e){e.success?(t.list(),t.$root.showModal("成功","新建文件夹成功")):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))):this.$root.showModal("提示","文件夹名不能为空")},removeOuterQuotes:function(t){return t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t},download:function(t,e){var i=this;this.$root.message.title="正在下载";var o=new Modal(this.$root.$refs.progressModal);o.show();var l=(new Date).getTime(),s=0;n({method:"post",url:n.defaults.baseURL+e,data:r.stringify({relativePath:t}),responseType:"blob",onDownloadProgress:function(t){var e=t.loaded,o=t.total;i.$root.progress=Math.round(100*e/o)+"%";var n=(new Date).getTime(),r=(n-l)/1e3,a=r?(e-s)/r:0;s=e,l=n,i.$root.speed=i.$root.formatBytes(a)+"/s"}}).then((function(t){var e=t.headers["content-disposition"].split("filename=")[1];e=decodeURIComponent(e),saveAs(t.data,i.removeOuterQuotes(e))})).catch((function(t){o.hide(),i.$root.showModal("错误",t.message)})).finally((function(){i.$root.progress=0,o.hide()}))},downloadFile:function(t){this.download(t,"file/download")},downloadFolder:function(t){this.download(t,"file/downloadFolder")},bulkDownload:function(){this.download(JSON.stringify(this.checkedFiles),"file/bulk")},deleteFile:function(t){var e=this;this.$root.hasToken((function(){return e.deleteFile(t)}))&&(this.$root.loading=!0,n.post("file/delete",r.stringify({relativePath:JSON.stringify(t)})).then((function(t){t.success?(0===e.filter.length?e.list():e.search(e.filter),e.$root.showModal("成功","删除成功")):e.$root.showModal("失败",t.msg)})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1})))},zipFolder:function(t){var e=this;this.$root.loading=!0,n.post("file/zip",r.stringify({relativePath:t})).then((function(t){t.success?(e.$root.showModal("成功","压缩成功"),e.list()):e.$root.showModal("成功","压缩失败")})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))},bulkZip:function(){var t=this;this.$root.loading=!0,n.post("file/bulkZip",r.stringify({relativePath:JSON.stringify(this.checkedFiles)})).then((function(e){e.success?(t.$root.showModal("成功","压缩成功"),t.list()):t.$root.showModal("成功","压缩失败")})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))},rename:function(t){var e=this,i=this.$root.$refs.input.value;0!==i.trim().length?this.$root.hasToken((function(){return e.rename(t)}))&&(this.$root.loading=!0,n.post("file/rename",r.stringify({src:t,dst:this.currentDirectory+"/"+i})).then((function(t){t.success?(e.$root.showModal("成功",t.msg),e.list()):e.$root.showModal("失败",t.msg)})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))):this.$root.showModal("提示","新文件名不能为空")},cut:function(t){this.cutFiles=t,this.$root.showModal("剪切成功",this.cutFiles.join("\n"))},paste:function(){var t=this;0!==this.cutFiles.length&&this.$root.hasToken((function(){return t.paste()}))&&(this.$root.loading=!0,n.post("file/move",r.stringify({src:JSON.stringify(this.cutFiles),dst:this.currentDirectory})).then((function(e){e.success?(t.$root.showModal("成功",e.msg),t.cutFiles=[],t.list()):(t.$root.showModal("失败",e.msg),t.cutFiles=[])})).catch((function(e){t.$root.showModal("错误",e.message),t.cutFiles=[]})).finally((function(){t.$root.loading=!1})))},preview:function(t,e){var i=this;t.includes("text")?(this.$root.loading=!0,this.$root.message.title=e,this.$root.message.text="",n.post("file/read",r.stringify({relativePath:e})).then((function(t){t.success?(i.$root.message.text=t.detail,new Modal(i.$root.$refs.textModal).show()):i.$root.showModal("失败",t.msg)})).catch((function(t){i.$root.showModal("错误",t.message)})).finally((function(){i.$root.loading=!1}))):t.includes("image")&&(this.$root.src="",this.$root.src=n.defaults.baseURL+"file/previewImage?relativePath="+encodeURIComponent(e),new Modal(this.$root.$refs.imageModal).show())},share:function(t){var e=this;this.$root.loading=!0,n.post("shareCode/add",r.stringify({path:t})).then((function(t){t.success?e.$root.showModal("分享成功",location.protocol+"//"+location.host+"/files/"+t.detail):e.$root.showModal("失败",t.msg)})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))},directoryStats:function(t){var e=this;this.$root.loading=!0,n.post("file/folderInfo",r.stringify({relativePath:t})).then((function(t){t.success?e.$root.showModal("详细信息",t.msg):e.$root.showModal("失败",t.msg)})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))},checkAll:function(t){var e=this;t.target.checked?(this.files.folders.forEach((function(t){e.checkedFiles.push(t.relativePath)})),this.files.files.forEach((function(t){e.checkedFiles.push(t.relativePath)}))):this.checkedFiles=[]},hideColumn:function(t){this.columns.includes(t)?this.columns=this.columns.filter((function(e){return e!==t})):this.columns.push(t)},getIcon:function(e,i){for(var o=e.split(".").pop(),n=0,r=Object.entries({"bi-file-earmark-binary":["exe"],"bi-file-earmark-zip":["zip","7z","rar"],"bi-file-earmark-code":["py","java","c","cpp","html","js","css"],"bi-file-earmark-pdf":["pdf"],"bi-file-earmark-word":["doc","docx"],"bi-file-earmark-excel":["xls","xlsx"],"bi-file-earmark-ppt":["ppt","pptx"]});n<r.length;n++){var l=t(r[n],2),s=l[0];if(l[1].includes(o))return s}var a={text:"bi-file-earmark-text",image:"bi-file-earmark-image",audio:"bi-file-earmark-music",video:"bi-file-earmark-play"}[i.split("/")[0]];return null!=a?a:" bi-file-earmark"},doSort:function(t){"time"===t.key&&("desc"===t.direction?(this.files.folders.sort((function(t,e){var i=new Date(t.lastModified),o=new Date(e.lastModified),n=t.name.toUpperCase(),r=e.name.toUpperCase();return i<o?1:i>o||n<r?-1:n>r?1:0})),this.files.files.sort((function(t,e){var i=new Date(t.lastModified),o=new Date(e.lastModified),n=t.name.toUpperCase(),r=e.name.toUpperCase();return i<o?1:i>o||n<r?-1:n>r?1:0}))):(this.files.folders.sort((function(t,e){var i=new Date(t.lastModified),o=new Date(e.lastModified),n=t.name.toUpperCase(),r=e.name.toUpperCase();return i<o?-1:i>o?1:n<r?-1:n>r?1:0})),this.files.files.sort((function(t,e){var i=new Date(t.lastModified),o=new Date(e.lastModified),n=t.name.toUpperCase(),r=e.name.toUpperCase();return i<o?-1:i>o?1:n<r?-1:n>r?1:0})))),"name"==t.key&&("desc"===t.direction?(this.files.files.sort((function(t,e){var i=t.name.toUpperCase(),o=e.name.toUpperCase();return i<o?1:i>o?-1:0})),this.files.folders.sort((function(t,e){var i=t.name.toUpperCase(),o=e.name.toUpperCase();return i<o?1:i>o?-1:0}))):(this.files.files.sort((function(t,e){var i=t.name.toUpperCase(),o=e.name.toUpperCase();return i<o?-1:i>o?1:0})),this.files.folders.sort((function(t,e){var i=t.name.toUpperCase(),o=e.name.toUpperCase();return i<o?-1:i>o?1:0}))))}},mounted:function(){this.list(),this.getDirectoryHierachy()},watch:{sort:{handler:function(t,e){this.doSort(t)},deep:!0,flush:"post"}}},M=function(t){return v("data-v-a56dc13a"),t=t(),w(),t},x={class:"card border-bottom-0"},F={class:"card-header"},D={class:"breadcrumb float-start",style:{margin:"0.5rem 0"}},P={key:0},T=["onClick"],S={class:"card-body"},U={id:"form",action:"upload",method:"post",enctype:"multipart/form-data"},z={class:"files-left"},I=M((function(){return s("button",{class:"btn btn-outline-primary",onclick:"document.getElementById('file').value=null; document.getElementById('file').click()"}," 上传文件 ",-1)})),j=M((function(){return s("button",{class:"btn btn-outline-primary ms-1 me-1",onclick:"document.getElementById('folder').value=null; document.getElementById('folder').click()"}," 上传文件夹 ",-1)})),O={class:"btn-group"},A=["disabled"],B=["disabled"],E=["disabled"],N=["disabled"],V=["disabled"],H={class:"files-right"},J={class:"w-100 d-flex"},R={class:"dropdown",style:{"padding-left":"5px"}},q=M((function(){return s("button",{class:"btn btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown","data-bs-auto-close":"outside"},[s("i",{class:"bi bi-grid-3x3-gap-fill"})],-1)})),W={class:"dropdown-menu"},Z={class:"dropdown-item"},_={class:"form-check"},L=["checked"],Q=M((function(){return s("label",{class:"form-check-label",for:"size"},"大小",-1)})),K={class:"dropdown-item"},G={class:"form-check"},X=["checked"],Y=M((function(){return s("label",{class:"form-check-label",for:"contentType"},"类型",-1)})),tt={class:"dropdown-item"},et={class:"form-check"},it=["checked"],ot=M((function(){return s("label",{class:"form-check-label",for:"lastModified"},"修改日期",-1)})),nt={class:"mb-0 table table-hover"},rt={style:{"user-select":"none"}},lt=["checked","indeterminate","disabled"],st={class:"sort-by-filename"},at={key:0,class:"bi bi-sort-alpha-up text-muted"},ct={key:1,class:"bi bi-sort-alpha-down-alt text-muted"},dt={key:1,class:"size"},ut={key:2,class:"contentType"},ft={class:"sort-by-time"},ht={key:0,class:"bi bi-sort-numeric-up text-muted"},mt={key:1,class:"bi bi-sort-numeric-down-alt text-muted"},pt=M((function(){return s("th",{class:"action"},"操作",-1)})),yt={key:0},kt=[M((function(){return s("a",{class:"link-primary"},"..",-1)}))],gt=["value"],bt=["onClick"],vt=M((function(){return s("i",{class:"bi bi-folder2"},null,-1)})),wt={class:"link-primary"},$t={key:0,class:"size"},Ct={key:1,class:"contentType"},Mt={key:2,class:"lastModified"},xt={class:"action"},Ft=["onClick"],Dt=[M((function(){return s("i",{class:"bi bi-cloud-download"},null,-1)}))],Pt=["onClick"],Tt=[M((function(){return s("i",{class:"bi bi-trash"},null,-1)}))],St={class:"dropdown d-inline"},Ut=M((function(){return s("a",{class:"link-primary ms-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"bi bi-three-dots"})],-1)})),zt={class:"dropdown-menu"},It=["onClick"],jt=["onClick"],Ot=["onClick"],At=["onClick"],Bt=["value"],Et={class:"filename text-truncate"},Nt={key:0,class:"size"},Vt={key:1,class:"contentType"},Ht={key:2,class:"lastModified"},Jt={class:"action"},Rt=["onClick"],qt=[M((function(){return s("i",{class:"bi bi-cloud-download"},null,-1)}))],Wt=["onClick"],Zt=[M((function(){return s("i",{class:"bi bi-trash"},null,-1)}))],_t={class:"dropdown d-inline"},Lt=M((function(){return s("a",{class:"link-primary ms-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"bi bi-three-dots"})],-1)})),Qt={class:"dropdown-menu"},Kt=["onClick"],Gt=["onClick"],Xt=["onClick"],Yt=["onClick"],te=["onClick"];e("default",o(C,[["render",function(t,e,i,o,n,r){return p(),l("div",x,[s("div",F,[s("ol",D,[(p(!0),l(a,null,c(n.directories,(function(t){return p(),l("li",{class:y(["filename text-truncate",["breadcrumb-item",{active:t.relativePath==n.currentDirectory}]]),key:t},[t.relativePath==n.currentDirectory?(p(),l("a",P,k(t.displayName),1)):(p(),l("a",{key:1,class:"link-primary",onClick:function(e){return r.changeDirectory(t.relativePath)}},k(t.displayName),9,T))],2)})),128))])]),s("div",S,[s("form",U,[s("input",{type:"file",name:"file",id:"file",class:"d-none",onChange:e[0]||(e[0]=function(t){return r.upload(t)}),multiple:""},null,32),s("input",{type:"file",name:"folder",id:"folder",class:"d-none",onChange:e[1]||(e[1]=function(t){return r.upload(t)}),multiple:"",webkitdirectory:""},null,32)]),s("div",z,[I,j,s("button",{class:"btn btn-outline-primary me-1",onClick:e[2]||(e[2]=function(e){t.$root.inputValue="",t.$root.showInput("新建文件夹","输入文件夹名",r.createDirectory)})}," 新建文件夹 "),s("button",{class:"btn btn-outline-primary me-1",onClick:e[3]||(e[3]=function(t){return r.list()})}," 刷新 "),0===n.cutFiles.length||r.getParentDirectory(n.cutFiles[0])===n.currentDirectory||n.currentDirectory.startsWith(n.cutFiles[0])?d("",!0):(p(),l("button",{key:0,class:"btn btn-outline-primary me-1",onClick:e[4]||(e[4]=function(t){return r.paste()})}," 粘贴 ")),s("div",O,[s("button",{class:"btn btn-outline-primary",disabled:0===n.files.length,onClick:e[5]||(e[5]=function(t){n.multiSelect=!n.multiSelect,n.checkedFiles=[]})}," 多选 ",8,A),n.multiSelect?(p(),l("button",{key:0,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:e[6]||(e[6]=function(t){return r.bulkDownload()})}," 下载 ",8,B)):d("",!0),n.multiSelect?(p(),l("button",{key:1,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:e[7]||(e[7]=function(e){t.$root.showConfirm((function(){r.deleteFile(n.checkedFiles)}))})}," 删除 ",8,E)):d("",!0),n.multiSelect?(p(),l("button",{key:2,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:e[8]||(e[8]=function(t){return r.cut(n.checkedFiles)})}," 剪切 ",8,N)):d("",!0),n.multiSelect?(p(),l("button",{key:3,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:e[9]||(e[9]=function(t){return r.bulkZip()})}," 打包 ",8,V)):d("",!0)])]),s("div",H,[s("div",J,[u(s("input",{class:"form-control",style:{flex:"1 1 auto",width:"1%"},placeholder:"搜索","onUpdate:modelValue":e[10]||(e[10]=function(t){return n.filter=t}),onKeyup:e[11]||(e[11]=h((function(t){return r.search()}),["enter"]))},null,544),[[f,n.filter]]),s("div",R,[q,s("ul",W,[s("li",Z,[s("div",_,[s("input",{class:"form-check-input",type:"checkbox",id:"size",checked:n.columns.includes("size"),onClick:e[12]||(e[12]=function(t){return r.hideColumn("size")})},null,8,L),Q])]),s("li",K,[s("div",G,[s("input",{class:"form-check-input",type:"checkbox",id:"contentType",checked:n.columns.includes("contentType"),onClick:e[13]||(e[13]=function(t){return r.hideColumn("contentType")})},null,8,X),Y])]),s("li",tt,[s("div",et,[s("input",{class:"form-check-input",type:"checkbox",id:"lastModified",checked:n.columns.includes("lastModified"),onClick:e[14]||(e[14]=function(t){return r.hideColumn("lastModified")})},null,8,it),ot])])])])])])]),s("table",nt,[s("tbody",null,[s("tr",rt,[n.multiSelect?(p(),l("th",{key:0,class:"checkbox",onClick:e[16]||(e[16]=function(t){return t.target===t.currentTarget&&t.target.querySelector(".form-check-input").click()})},[s("input",{type:"checkbox",class:"form-check-input",onClick:e[15]||(e[15]=function(t){return r.checkAll(t)}),checked:Object.keys(n.files).length>0&&n.checkedFiles.length>0&&n.files.folders.length+n.files.files.length>0,indeterminate:Object.keys(n.files).length>0&&n.checkedFiles.length>0&&n.checkedFiles.length<n.files.folders.length+n.files.files.length,disabled:Object.keys(n.files).length>0&&n.files.folders.length+n.files.files.length==0},null,8,lt)])):d("",!0),s("th",{class:"filename text-truncate cursor-pointer",onClick:e[17]||(e[17]=function(t){return r.sortBy("name")})},[m(" 文件名 "),s("div",st,["name"===n.sort.key&&"asc"===n.sort.direction?(p(),l("i",at)):d("",!0),"name"===n.sort.key&&"desc"===n.sort.direction?(p(),l("i",ct)):d("",!0)])]),n.columns.includes("size")?(p(),l("th",dt,"大小")):d("",!0),n.columns.includes("contentType")?(p(),l("th",ut," 类型 ")):d("",!0),n.columns.includes("lastModified")?(p(),l("th",{key:3,class:"lastModified cursor-pointer",onClick:e[18]||(e[18]=function(t){return r.sortBy("time")})},[m(" 修改时间 "),s("div",ft,["time"===n.sort.key&&"asc"===n.sort.direction?(p(),l("i",ht)):d("",!0),"time"===n.sort.key&&"desc"===n.sort.direction?(p(),l("i",mt)):d("",!0)])])):d("",!0),pt]),"/"!=n.currentDirectory?(p(),l("tr",yt,[s("td",{colspan:"6",onClick:e[19]||(e[19]=function(t){return r.changeDirectory(r.getParentDirectory(n.currentDirectory))})},kt)])):d("",!0),(p(!0),l(a,null,c(n.files.folders,(function(i){return p(),l("tr",{key:i},[u(s("td",{class:"checkbox",onClick:e[21]||(e[21]=function(t){return t.target===t.currentTarget&&t.target.querySelector(".form-check-input").click()})},[u(s("input",{type:"checkbox",class:"form-check-input",value:i.relativePath,"onUpdate:modelValue":e[20]||(e[20]=function(t){return n.checkedFiles=t})},null,8,gt),[[b,n.checkedFiles]])],512),[[g,n.multiSelect]]),s("td",{class:"filename text-truncate",onClick:function(t){return r.changeDirectory(i.relativePath)}},[vt,m("  "),s("a",wt,k(i.name),1)],8,bt),n.columns.includes("size")?(p(),l("td",$t,"-")):d("",!0),n.columns.includes("contentType")?(p(),l("td",Ct,"-")):d("",!0),n.columns.includes("lastModified")?(p(),l("td",Mt,k(i.lastModified),1)):d("",!0),s("td",xt,[s("a",{class:"link-primary",onClick:function(t){return r.downloadFolder(i.relativePath)}},Dt,8,Ft),s("a",{class:"link-danger ms-1",onClick:function(e){t.$root.showConfirm((function(){r.deleteFile([i.relativePath])}))}},Tt,8,Pt),s("div",St,[Ut,s("ul",zt,[s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.zipFolder(i.relativePath)}},"压缩",8,It)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.cut([i.relativePath])}},"剪切",8,jt)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){t.$root.inputValue=i.name,t.$root.showInput("重命名","输入新文件夹名",(function(){r.rename(i.relativePath)}))}},"重命名",8,Ot)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.directoryStats(i.relativePath)}},"详细信息",8,At)])])])])])})),128)),(p(!0),l(a,null,c(n.files.files,(function(i){return p(),l("tr",{key:i},[u(s("td",{class:"checkbox",onClick:e[23]||(e[23]=function(t){return t.target===t.currentTarget&&t.target.querySelector(".form-check-input").click()})},[u(s("input",{type:"checkbox",class:"form-check-input",value:i.relativePath,"onUpdate:modelValue":e[22]||(e[22]=function(t){return n.checkedFiles=t})},null,8,Bt),[[b,n.checkedFiles]])],512),[[g,n.multiSelect]]),s("td",Et,[s("i",{class:y(["bi",r.getIcon(i.name,i.fileType)])},null,2),m("  "+k(i.name),1)]),n.columns.includes("size")?(p(),l("td",Nt,k(t.$root.formatBytes(i.length)),1)):d("",!0),n.columns.includes("contentType")?(p(),l("td",Vt,k(i.fileType),1)):d("",!0),n.columns.includes("lastModified")?(p(),l("td",Ht,k(i.lastModified),1)):d("",!0),s("td",Jt,[s("a",{class:"link-primary",onClick:function(t){return r.downloadFile(i.relativePath)}},qt,8,Rt),s("a",{class:"link-danger ms-1",onClick:function(e){t.$root.showConfirm((function(){r.deleteFile([i.relativePath])}))}},Zt,8,Wt),s("div",_t,[Lt,s("ul",Qt,[s("li",null,[i.fileType.includes("image")||i.fileType.includes("text")?(p(),l("a",{key:0,class:"dropdown-item",onClick:function(t){return r.preview(i.fileType,i.relativePath)}},"预览",8,Kt)):d("",!0)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.share(i.relativePath)}},"分享",8,Gt)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.cut([i.relativePath])}},"剪切",8,Xt)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){t.$root.inputValue=i.name,t.$root.showInput("重命名","输入新文件名",(function(){r.rename(i.relativePath)}))}},"重命名",8,Yt)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return r.directoryStats(i.relativePath)}},"详细信息",8,te)])])])])])})),128))])])])}],["__scopeId","data-v-a56dc13a"]]))}}}))}();
