!function(){function e(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,n,r,l,s=[],a=!0,c=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;a=!1}else for(;!(a=(o=r.call(i)).done)&&(s.push(o.value),s.length!==t);a=!0);}catch(d){c=!0,n=d}finally{try{if(!a&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(c)throw n}}return s}}(e,i)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,i)}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}System.register(["./index-legacy-0c23129e.js","./FileSaver.min-legacy-ff1a1e71.js"],(function(t,i){"use strict";var o,n,r,l,s,a,c,d,u,f,h,m,p,y,k,g,b,v,w,$=document.createElement("style");return $.textContent=".sort-by-filename[data-v-2a698554],.sort-by-time[data-v-2a698554]{display:none}.filename:hover .sort-by-filename[data-v-2a698554],.lastModified:hover .sort-by-time[data-v-2a698554]{display:inline}.btn-group>.btn-group[data-v-2a698554]:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn[data-v-2a698554]{margin-left:-.9px!important}.table>tbody>tr>td[data-v-2a698554]{vertical-align:middle}.files-left[data-v-2a698554]{float:left}.files-right[data-v-2a698554]{float:right}.checkbox[data-v-2a698554]{width:2%}.filename[data-v-2a698554]{max-width:200px}@media screen and (max-width: 768px){.size[data-v-2a698554],.contentType[data-v-2a698554],.lastModified[data-v-2a698554]{display:none}.action[data-v-2a698554]{width:80px}}@media screen and (max-width: 1000px){.files-left[data-v-2a698554],.files-right[data-v-2a698554]{float:none}.files-left .btn[data-v-2a698554]{margin-bottom:5px}.dropdown[data-v-2a698554]{display:none}}\n",document.head.appendChild($),{setters:[function(e){o=e._,n=e.a,r=e.l,l=e.c,s=e.b,a=e.F,c=e.r,d=e.d,u=e.w,f=e.v,h=e.e,m=e.f,p=e.o,y=e.n,k=e.t,g=e.g,b=e.h,v=e.p,w=e.i},null],execute:function(){var i,$=n.CancelToken,C={data:function(){return{currentDirectory:"/",directories:[],files:[],filter:"",multiSelect:!1,checkedFiles:[],cutFiles:[],columns:["size","lastModified"],sort:{key:"name",direction:"asc"}}},methods:{sortBy:function(e){e!==this.sort.key?(this.sort.key=e,this.sort.direction="asc"):"asc"===this.sort.direction?this.sort.direction="desc":this.sort.direction="asc"},list:function(){var e=this;this.$root.loading=!0,this.files=[],this.checkedFiles=[],void 0!==i&&i(),n.post("file/list",r.stringify({currentDirectory:this.currentDirectory}),{cancelToken:new $((function(e){i=e}))}).then((function(t){if(t.success)e.files=t.detail,e.doSort(e.sort);else{if("没有权限"===t.msg&&!e.$root.hasToken((function(){return e.list()})))return;e.$root.showModal("失败",t.msg)}})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))},search:function(){var e=this;0!==this.filter.trim().length?(this.$root.loading=!0,this.files=[],this.checkedFiles=[],void 0!==i&&i(),n.post("file/search",r.stringify({filter:this.filter,currentDirectory:this.currentDirectory}),{cancelToken:new $((function(e){i=e}))}).then((function(t){t.success?(e.files=t.detail,e.doSort(e.sort)):e.$root.showModal("失败",t.msg)})).catch((function(t){"CanceledError"!==t.name&&e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))):this.list()},changeDirectory:function(e){this.currentDirectory=e,this.list(),this.getDirectoryHierachy()},getDirectoryHierachy:function(){this.directories=[];for(var e=this.currentDirectory.split("/"),t=[],i=0;i<e.length;i++){t.push(e[i]);var o=t.join("/");this.directories.push({displayName:e[i],relativePath:0===o.length?"/":o})}this.directories[0].displayName="Home"},getParentDirectory:function(e){var t=e.split("/");t.pop();var i=t.join("/");return 0===i.length?"/":i},upload:function(e){var t=this;if(this.$root.hasToken((function(){return t.upload(e)}))){this.$root.message.title="上传进度";var i=new Modal(this.$root.$refs.progressModal);i.show();var o=new FormData;o.append("currentDirectory",this.currentDirectory),Array.from(e.target.files).forEach((function(e){console.log(e),o.append("files",e)}));var r=(new Date).getTime(),l=0;n({method:"post",url:"file/upload",data:o,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var i=e.loaded,o=e.total;t.$root.progress=Math.round(i/o*100)+"%";var n=(new Date).getTime(),s=(n-r)/1e3,a=s?(i-l)/s:0;l=i,r=n,t.$root.speed=t.$root.formatBytes(a)+"/s"}}).then((function(e){e.success?(i.hide(),t.list(),t.$root.showModal("成功","上传成功"),t.$root.progress=0):(i.hide(),t.$root.showModal("失败",e.msg),t.$root.progress=0)})).catch((function(e){i.hide(),t.$root.showModal("错误",e.message),t.$root.progress=0}))}},createDirectory:function(){var e=this,t=this.$root.$refs.input.value;0!==t.trim().length?this.$root.hasToken((function(){return e.createDirectory()}))&&(this.$root.loading=!0,n.post("file/mkdir",r.stringify({relativePath:this.currentDirectory+"/"+t})).then((function(t){t.success?(e.list(),e.$root.showModal("成功","新建文件夹成功")):e.$root.showModal("失败",t.msg)})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))):this.$root.showModal("提示","文件夹名不能为空")},download:function(e,t){var i=this;this.$root.message.title="正在下载";var o=new Modal(this.$root.$refs.progressModal);o.show();var l=(new Date).getTime(),s=0;n({method:"post",url:n.defaults.baseURL+t,data:r.stringify({relativePath:e}),responseType:"blob",onDownloadProgress:function(e){var t=e.loaded,o=e.total;i.$root.progress=Math.round(100*t/o)+"%";var n=(new Date).getTime(),r=(n-l)/1e3,a=r?(t-s)/r:0;s=t,l=n,i.$root.speed=i.$root.formatBytes(a)+"/s"}}).then((function(e){var t=e.headers["content-disposition"].split("filename=")[1];t=decodeURIComponent(t),saveAs(e.data,t)})).catch((function(e){o.hide(),i.$root.showModal("错误",e.message)})).finally((function(){i.$root.progress=0,o.hide()}))},downloadFile:function(e){this.download(e,"file/download")},downloadFolder:function(e){this.download(e,"file/downloadFolder")},bulkDownload:function(){this.download(JSON.stringify(this.checkedFiles),"file/bulk")},deleteFile:function(e){var t=this;this.$root.hasToken((function(){return t.deleteFile(e)}))&&(this.$root.loading=!0,n.post("file/delete",r.stringify({relativePath:JSON.stringify(e)})).then((function(e){e.success?(0===t.filter.length?t.list():t.search(t.filter),t.$root.showModal("成功","删除成功")):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1})))},zipFolder:function(e){var t=this;this.$root.loading=!0,n.post("file/zip",r.stringify({relativePath:e})).then((function(e){e.success?(t.$root.showModal("成功","压缩成功"),t.list()):t.$root.showModal("成功","压缩失败")})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))},bulkZip:function(){var e=this;this.$root.loading=!0,n.post("file/bulkZip",r.stringify({relativePath:JSON.stringify(this.checkedFiles)})).then((function(t){t.success?(e.$root.showModal("成功","压缩成功"),e.list()):e.$root.showModal("成功","压缩失败")})).catch((function(t){e.$root.showModal("错误",t.message)})).finally((function(){e.$root.loading=!1}))},rename:function(e){var t=this,i=this.$root.$refs.input.value;0!==i.trim().length?this.$root.hasToken((function(){return t.rename(e)}))&&(this.$root.loading=!0,n.post("file/rename",r.stringify({src:e,dst:this.currentDirectory+"/"+i})).then((function(e){e.success?(t.$root.showModal("成功",e.msg),t.list()):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))):this.$root.showModal("提示","新文件名不能为空")},cut:function(e){this.cutFiles=e,this.$root.showModal("剪切成功",this.cutFiles.join("\n"))},paste:function(){var e=this;0!==this.cutFiles.length&&this.$root.hasToken((function(){return e.paste()}))&&(this.$root.loading=!0,n.post("file/move",r.stringify({src:JSON.stringify(this.cutFiles),dst:this.currentDirectory})).then((function(t){t.success?(e.$root.showModal("成功",t.msg),e.cutFiles=[],e.list()):(e.$root.showModal("失败",t.msg),e.cutFiles=[])})).catch((function(t){e.$root.showModal("错误",t.message),e.cutFiles=[]})).finally((function(){e.$root.loading=!1})))},preview:function(e,t){var i=this;e.includes("text")?(this.$root.loading=!0,this.$root.message.title=t,this.$root.message.text="",n.post("file/read",r.stringify({relativePath:t})).then((function(e){e.success?(i.$root.message.text=e.detail,new Modal(i.$root.$refs.textModal).show()):i.$root.showModal("失败",e.msg)})).catch((function(e){i.$root.showModal("错误",e.message)})).finally((function(){i.$root.loading=!1}))):e.includes("image")&&(this.$root.src="",this.$root.src=n.defaults.baseURL+"file/download?relativePath="+encodeURIComponent(t),new Modal(this.$root.$refs.imageModal).show())},share:function(e){var t=this;this.$root.loading=!0,n.post("shareCode/add",r.stringify({path:e})).then((function(e){e.success?t.$root.showModal("分享成功",location.protocol+"//"+location.host+"/files/"+e.detail):t.$root.showModal("失败",e.msg)})).catch((function(e){t.$root.showModal("错误",e.message)})).finally((function(){t.$root.loading=!1}))},checkAll:function(e){var t=this;e.target.checked?(this.files.folders.forEach((function(e){t.checkedFiles.push(e.relativePath)})),this.files.files.forEach((function(e){t.checkedFiles.push(e.relativePath)}))):this.checkedFiles=[]},hideColumn:function(e){this.columns.includes(e)?this.columns=this.columns.filter((function(t){return t!==e})):this.columns.push(e)},getIcon:function(t,i){for(var o=t.split(".").pop(),n=0,r=Object.entries({"bi-file-earmark-binary":["exe"],"bi-file-earmark-zip":["zip","7z","rar"],"bi-file-earmark-code":["py","java","c","cpp","html","js","css"],"bi-file-earmark-pdf":["pdf"],"bi-file-earmark-word":["doc","docx"],"bi-file-earmark-excel":["xls","xlsx"],"bi-file-earmark-ppt":["ppt","pptx"]});n<r.length;n++){var l=e(r[n],2),s=l[0];if(l[1].includes(o))return s}var a={text:"bi-file-earmark-text",image:"bi-file-earmark-image",audio:"bi-file-earmark-music",video:"bi-file-earmark-play"}[i.split("/")[0]];return null!=a?a:" bi-file-earmark"},doSort:function(e){"time"===e.key&&("desc"===e.direction?(this.files.folders.sort((function(e,t){var i=new Date(e.lastModified),o=new Date(t.lastModified),n=e.name.toUpperCase(),r=t.name.toUpperCase();return i<o?1:i>o||n<r?-1:n>r?1:0})),this.files.files.sort((function(e,t){var i=new Date(e.lastModified),o=new Date(t.lastModified),n=e.name.toUpperCase(),r=t.name.toUpperCase();return i<o?1:i>o||n<r?-1:n>r?1:0}))):(this.files.folders.sort((function(e,t){var i=new Date(e.lastModified),o=new Date(t.lastModified),n=e.name.toUpperCase(),r=t.name.toUpperCase();return i<o?-1:i>o?1:n<r?-1:n>r?1:0})),this.files.files.sort((function(e,t){var i=new Date(e.lastModified),o=new Date(t.lastModified),n=e.name.toUpperCase(),r=t.name.toUpperCase();return i<o?-1:i>o?1:n<r?-1:n>r?1:0})))),"name"==e.key&&("desc"===e.direction?(this.files.files.sort((function(e,t){var i=e.name.toUpperCase(),o=t.name.toUpperCase();return i<o?1:i>o?-1:0})),this.files.folders.sort((function(e,t){var i=e.name.toUpperCase(),o=t.name.toUpperCase();return i<o?1:i>o?-1:0}))):(this.files.files.sort((function(e,t){var i=e.name.toUpperCase(),o=t.name.toUpperCase();return i<o?-1:i>o?1:0})),this.files.folders.sort((function(e,t){var i=e.name.toUpperCase(),o=t.name.toUpperCase();return i<o?-1:i>o?1:0}))))}},mounted:function(){this.list(),this.getDirectoryHierachy()},watch:{sort:{handler:function(e,t){this.doSort(e)},deep:!0,flush:"post"}}},M=function(e){return v("data-v-2a698554"),e=e(),w(),e},x={class:"card border-bottom-0"},F={class:"card-header"},D={class:"breadcrumb float-start",style:{margin:"0.5rem 0"}},T={key:0},P=["onClick"],S={class:"card-body"},U={id:"form",action:"upload",method:"post",enctype:"multipart/form-data"},z={class:"files-left"},j=M((function(){return s("button",{class:"btn btn-outline-primary",onclick:"document.getElementById('file').value=null; document.getElementById('file').click()"}," 上传文件 ",-1)})),I=M((function(){return s("button",{class:"btn btn-outline-primary ms-1 me-1",onclick:"document.getElementById('folder').value=null; document.getElementById('folder').click()"}," 上传文件夹 ",-1)})),O={class:"btn-group"},A=["disabled"],B=["disabled"],E=["disabled"],N=["disabled"],H=["disabled"],J={class:"files-right"},R={class:"w-100 d-flex"},q={class:"dropdown",style:{"padding-left":"5px"}},V=M((function(){return s("button",{class:"btn btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown","data-bs-auto-close":"outside"},[s("i",{class:"bi bi-grid-3x3-gap-fill"})],-1)})),Z={class:"dropdown-menu"},_={class:"dropdown-item"},L={class:"form-check"},K=["checked"],W=M((function(){return s("label",{class:"form-check-label",for:"size"},"大小",-1)})),G={class:"dropdown-item"},Q={class:"form-check"},X=["checked"],Y=M((function(){return s("label",{class:"form-check-label",for:"contentType"},"类型",-1)})),ee={class:"dropdown-item"},te={class:"form-check"},ie=["checked"],oe=M((function(){return s("label",{class:"form-check-label",for:"lastModified"},"修改日期",-1)})),ne={class:"mb-0 table table-hover"},re={style:{"user-select":"none"}},le=["checked","indeterminate","disabled"],se={class:"sort-by-filename"},ae={key:0,class:"bi bi-sort-alpha-up text-muted"},ce={key:1,class:"bi bi-sort-alpha-down-alt text-muted"},de={key:1,class:"size"},ue={key:2,class:"contentType"},fe={class:"sort-by-time"},he={key:0,class:"bi bi-sort-numeric-up text-muted"},me={key:1,class:"bi bi-sort-numeric-down-alt text-muted"},pe=M((function(){return s("th",{class:"action"},"操作",-1)})),ye={key:0},ke=[M((function(){return s("a",{class:"link-primary"},"..",-1)}))],ge=["value"],be=["onClick"],ve=M((function(){return s("i",{class:"bi bi-folder2"},null,-1)})),we={class:"link-primary"},$e={key:0,class:"size"},Ce={key:1,class:"contentType"},Me={key:2,class:"lastModified"},xe={class:"action"},Fe=["onClick"],De=[M((function(){return s("i",{class:"bi bi-cloud-download"},null,-1)}))],Te=["onClick"],Pe=[M((function(){return s("i",{class:"bi bi-trash"},null,-1)}))],Se={class:"dropdown d-inline"},Ue=M((function(){return s("a",{class:"link-primary ms-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"bi bi-three-dots"})],-1)})),ze={class:"dropdown-menu"},je=["onClick"],Ie=["onClick"],Oe=["onClick"],Ae=["value"],Be={class:"filename text-truncate"},Ee={key:0,class:"size"},Ne={key:1,class:"contentType"},He={key:2,class:"lastModified"},Je={class:"action"},Re=["onClick"],qe=[M((function(){return s("i",{class:"bi bi-cloud-download"},null,-1)}))],Ve=["onClick"],Ze=[M((function(){return s("i",{class:"bi bi-trash"},null,-1)}))],_e={class:"dropdown d-inline"},Le=M((function(){return s("a",{class:"link-primary ms-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"bi bi-three-dots"})],-1)})),Ke={class:"dropdown-menu"},We=["onClick"],Ge=["onClick"],Qe=["onClick"],Xe=["onClick"];t("default",o(C,[["render",function(e,t,i,o,n,r){return p(),l("div",x,[s("div",F,[s("ol",D,[(p(!0),l(a,null,c(n.directories,(function(e){return p(),l("li",{class:y(["filename text-truncate",["breadcrumb-item",{active:e.relativePath==n.currentDirectory}]]),key:e},[e.relativePath==n.currentDirectory?(p(),l("a",T,k(e.displayName),1)):(p(),l("a",{key:1,class:"link-primary",onClick:function(t){return r.changeDirectory(e.relativePath)}},k(e.displayName),9,P))],2)})),128))])]),s("div",S,[s("form",U,[s("input",{type:"file",name:"file",id:"file",class:"d-none",onChange:t[0]||(t[0]=function(e){return r.upload(e)}),multiple:""},null,32),s("input",{type:"file",name:"folder",id:"folder",class:"d-none",onChange:t[1]||(t[1]=function(e){return r.upload(e)}),multiple:"",webkitdirectory:""},null,32)]),s("div",z,[j,I,s("button",{class:"btn btn-outline-primary me-1",onClick:t[2]||(t[2]=function(t){return e.$root.showInput("新建文件夹","输入文件夹名",r.createDirectory)})}," 新建文件夹 "),s("button",{class:"btn btn-outline-primary me-1",onClick:t[3]||(t[3]=function(e){return r.list()})}," 刷新 "),0===n.cutFiles.length||r.getParentDirectory(n.cutFiles[0])===n.currentDirectory||n.currentDirectory.startsWith(n.cutFiles[0])?d("",!0):(p(),l("button",{key:0,class:"btn btn-outline-primary me-1",onClick:t[4]||(t[4]=function(e){return r.paste()})}," 粘贴 ")),s("div",O,[s("button",{class:"btn btn-outline-primary",disabled:0===n.files.length,onClick:t[5]||(t[5]=function(e){n.multiSelect=!n.multiSelect,n.checkedFiles=[]})}," 多选 ",8,A),n.multiSelect?(p(),l("button",{key:0,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:t[6]||(t[6]=function(e){return r.bulkDownload()})}," 下载 ",8,B)):d("",!0),n.multiSelect?(p(),l("button",{key:1,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:t[7]||(t[7]=function(t){return e.$root.showConfirm((function(){r.deleteFile(n.checkedFiles)}))})}," 删除 ",8,E)):d("",!0),n.multiSelect?(p(),l("button",{key:2,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:t[8]||(t[8]=function(e){return r.cut(n.checkedFiles)})}," 剪切 ",8,N)):d("",!0),n.multiSelect?(p(),l("button",{key:3,disabled:0==n.checkedFiles.length,class:"btn btn-outline-primary",onClick:t[9]||(t[9]=function(e){return r.bulkZip()})}," 打包 ",8,H)):d("",!0)])]),s("div",J,[s("div",R,[u(s("input",{class:"form-control",style:{flex:"1 1 auto",width:"1%"},placeholder:"搜索","onUpdate:modelValue":t[10]||(t[10]=function(e){return n.filter=e}),onKeyup:t[11]||(t[11]=h((function(e){return r.search()}),["enter"]))},null,544),[[f,n.filter]]),s("div",q,[V,s("ul",Z,[s("li",_,[s("div",L,[s("input",{class:"form-check-input",type:"checkbox",id:"size",checked:n.columns.includes("size"),onClick:t[12]||(t[12]=function(e){return r.hideColumn("size")})},null,8,K),W])]),s("li",G,[s("div",Q,[s("input",{class:"form-check-input",type:"checkbox",id:"contentType",checked:n.columns.includes("contentType"),onClick:t[13]||(t[13]=function(e){return r.hideColumn("contentType")})},null,8,X),Y])]),s("li",ee,[s("div",te,[s("input",{class:"form-check-input",type:"checkbox",id:"lastModified",checked:n.columns.includes("lastModified"),onClick:t[14]||(t[14]=function(e){return r.hideColumn("lastModified")})},null,8,ie),oe])])])])])])]),s("table",ne,[s("tbody",null,[s("tr",re,[n.multiSelect?(p(),l("th",{key:0,class:"checkbox",onClick:t[16]||(t[16]=function(e){return e.target===e.currentTarget&&e.target.querySelector(".form-check-input").click()})},[s("input",{type:"checkbox",class:"form-check-input",onClick:t[15]||(t[15]=function(e){return r.checkAll(e)}),checked:Object.keys(n.files).length>0&&n.checkedFiles.length>0&&n.files.folders.length+n.files.files.length>0,indeterminate:Object.keys(n.files).length>0&&n.checkedFiles.length>0&&n.checkedFiles.length<n.files.folders.length+n.files.files.length,disabled:Object.keys(n.files).length>0&&n.files.folders.length+n.files.files.length==0},null,8,le)])):d("",!0),s("th",{class:"filename text-truncate cursor-pointer",onClick:t[17]||(t[17]=function(e){return r.sortBy("name")})},[m(" 文件名 "),s("div",se,["name"===n.sort.key&&"asc"===n.sort.direction?(p(),l("i",ae)):d("",!0),"name"===n.sort.key&&"desc"===n.sort.direction?(p(),l("i",ce)):d("",!0)])]),n.columns.includes("size")?(p(),l("th",de,"大小")):d("",!0),n.columns.includes("contentType")?(p(),l("th",ue,"类型")):d("",!0),n.columns.includes("lastModified")?(p(),l("th",{key:3,class:"lastModified cursor-pointer",onClick:t[18]||(t[18]=function(e){return r.sortBy("time")})},[m(" 修改时间 "),s("div",fe,["time"===n.sort.key&&"asc"===n.sort.direction?(p(),l("i",he)):d("",!0),"time"===n.sort.key&&"desc"===n.sort.direction?(p(),l("i",me)):d("",!0)])])):d("",!0),pe]),"/"!=n.currentDirectory?(p(),l("tr",ye,[s("td",{colspan:"6",onClick:t[19]||(t[19]=function(e){return r.changeDirectory(r.getParentDirectory(n.currentDirectory))})},ke)])):d("",!0),(p(!0),l(a,null,c(n.files.folders,(function(i){return p(),l("tr",{key:i},[u(s("td",{class:"checkbox",onClick:t[21]||(t[21]=function(e){return e.target===e.currentTarget&&e.target.querySelector(".form-check-input").click()})},[u(s("input",{type:"checkbox",class:"form-check-input",value:i.relativePath,"onUpdate:modelValue":t[20]||(t[20]=function(e){return n.checkedFiles=e})},null,8,ge),[[b,n.checkedFiles]])],512),[[g,n.multiSelect]]),s("td",{class:"filename text-truncate",onClick:function(e){return r.changeDirectory(i.relativePath)}},[ve,m("  "),s("a",we,k(i.name),1)],8,be),n.columns.includes("size")?(p(),l("td",$e,"-")):d("",!0),n.columns.includes("contentType")?(p(),l("td",Ce,"-")):d("",!0),n.columns.includes("lastModified")?(p(),l("td",Me,k(i.lastModified),1)):d("",!0),s("td",xe,[s("a",{class:"link-primary",onClick:function(e){return r.downloadFolder(i.relativePath)}},De,8,Fe),s("a",{class:"link-danger ms-1",onClick:function(t){return e.$root.showConfirm((function(){r.deleteFile([i.relativePath])}))}},Pe,8,Te),s("div",Se,[Ue,s("ul",ze,[s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){return r.zipFolder(i.relativePath)}},"压缩",8,je)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){return r.cut([i.relativePath])}},"剪切",8,Ie)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return e.$root.showInput("重命名","输入新文件名",(function(){r.rename(i.relativePath)}))}},"重命名",8,Oe)])])])])])})),128)),(p(!0),l(a,null,c(n.files.files,(function(i){return p(),l("tr",{key:i},[u(s("td",{class:"checkbox",onClick:t[23]||(t[23]=function(e){return e.target===e.currentTarget&&e.target.querySelector(".form-check-input").click()})},[u(s("input",{type:"checkbox",class:"form-check-input",value:i.relativePath,"onUpdate:modelValue":t[22]||(t[22]=function(e){return n.checkedFiles=e})},null,8,Ae),[[b,n.checkedFiles]])],512),[[g,n.multiSelect]]),s("td",Be,[s("i",{class:y(["bi",r.getIcon(i.name,i.fileType)])},null,2),m("  "+k(i.name),1)]),n.columns.includes("size")?(p(),l("td",Ee,k(e.$root.formatBytes(i.length)),1)):d("",!0),n.columns.includes("contentType")?(p(),l("td",Ne,k(i.fileType),1)):d("",!0),n.columns.includes("lastModified")?(p(),l("td",He,k(i.lastModified),1)):d("",!0),s("td",Je,[s("a",{class:"link-primary",onClick:function(e){return r.downloadFile(i.relativePath)}},qe,8,Re),s("a",{class:"link-danger ms-1",onClick:function(t){return e.$root.showConfirm((function(){r.deleteFile([i.relativePath])}))}},Ze,8,Ve),s("div",_e,[Le,s("ul",Ke,[s("li",null,[i.fileType.includes("image")||i.fileType.includes("text")?(p(),l("a",{key:0,class:"dropdown-item",onClick:function(e){return r.preview(i.fileType,i.relativePath)}},"预览",8,We)):d("",!0)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){return r.share(i.relativePath)}},"分享",8,Ge)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(e){return r.cut([i.relativePath])}},"剪切",8,Qe)]),s("li",null,[s("a",{class:"dropdown-item",onClick:function(t){return e.$root.showInput("重命名","输入新文件名",(function(){r.rename(i.relativePath)}))}},"重命名",8,Xe)])])])])])})),128))])])])}],["__scopeId","data-v-2a698554"]]))}}}))}();
