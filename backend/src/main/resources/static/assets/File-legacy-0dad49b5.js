System.register(["./index-legacy-95d09460.js"],(function(t,e){"use strict";var n,o,i,l,a,r,s,d,c,u,f=document.createElement("style");return f.textContent=".table[data-v-130921c0]{margin:0 auto;width:auto}.table>tbody>tr>td[data-v-130921c0]{vertical-align:top}tr[data-v-130921c0] :first-child{text-align:right}tr[data-v-130921c0] :not(:first-child){text-align:left;width:auto;font-style:italic;max-width:200px;word-break:break-all}\n",document.head.appendChild(f),{setters:[function(t){n=t._,o=t.a,i=t.l,l=t.c,a=t.b,r=t.t,s=t.d,d=t.o,c=t.p,u=t.i}],execute:function(){var e={data:function(){return{file:""}},methods:{get:function(t){var e=this;this.$root.loading=!0,o.post("/shareCode/get",i.stringify({code:t})).then((function(t){t.success?e.file=t.detail:e.$router.push("/")})).catch((function(t){e.$root.showModal("错误",t.message),e.$router.push("/")})).finally((function(){e.$root.loading=!1}))},download:function(t){location.href=o.defaults.baseURL+"/file/download?relativePath="+encodeURIComponent(t)},preview:function(t,e){var n=this;t.includes("text")?(this.$root.loading=!0,this.$root.message.title=e,this.$root.message.text="",o.post("/file/read",i.stringify({relativePath:e})).then((function(t){t.success?(n.$root.message.text=t.detail,new Modal(n.$root.$refs.textModal).show()):n.$root.showModal("失败",t.msg)})).catch((function(t){n.$root.showModal("错误",t.message)})).finally((function(){n.$root.loading=!1}))):t.includes("image")&&(this.$root.src="",this.$root.src=o.defaults.baseURL+"/file/previewImage?relativePath="+encodeURIComponent(e),new Modal(this.$root.$refs.imageModal).show())}},created:function(){this.$route.params.code&&this.get(this.$route.params.code)}},f=function(t){return c("data-v-130921c0"),t=t(),u(),t},h={class:"card"},m=f((function(){return a("div",{class:"card-header"},"文件分享",-1)})),g={class:"card-body text-center"},b={class:"table table-borderless table-sm"},p=f((function(){return a("td",null,"文件名：",-1)})),v=f((function(){return a("td",null,"文件大小：",-1)})),$=f((function(){return a("td",null,"修改时间：",-1)})),y=f((function(){return a("td",null,"文件类型：",-1)}));t("default",n(e,[["render",function(t,e,n,o,i,c){return d(),l("div",h,[m,a("div",g,[a("table",b,[a("tbody",null,[a("tr",null,[p,a("td",null,r(i.file.name),1)]),a("tr",null,[v,a("td",null,r(t.$root.formatBytes(i.file.length)),1)]),a("tr",null,[$,a("td",null,r(i.file.lastModified),1)]),a("tr",null,[y,a("td",null,r(i.file.fileType),1)])])]),a("button",{class:"btn btn-sm btn-outline-primary mt-3",onClick:e[0]||(e[0]=function(t){return c.download(i.file.relativePath)})}," 下载 "),i.file&&(i.file.fileType.includes("image")||i.file.fileType.includes("text"))?(d(),l("button",{key:0,class:"btn btn-sm btn-outline-primary mt-3 ms-1",onClick:e[1]||(e[1]=function(t){return c.preview(i.file.fileType,i.file.relativePath)})}," 预览 ")):s("",!0)])])}],["__scopeId","data-v-130921c0"]]))}}}));
